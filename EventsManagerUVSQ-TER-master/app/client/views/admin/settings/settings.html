<div class="ui stackable two column grid">
  <div class="column">

    <!-- Reigstration Open/Close -->
    <div
      ng-class="{'loading': loading}"
      class="ui red segment">
        <div class="ui form">

          <div class="ui header">
            Open/Close Registration
          </div>

          <p>
            Users will be able to register new accounts within the time period of registration specified.
          </p>
          <div class="ui blue labels">
            <a class="ui label" ng-click="SuggestRegistrationTime(12)">
              3days <i class="icon"></i>
            </a>
            <a class="ui label" ng-click="SuggestRegistrationTime(120)">
              5days
            </a>
            <a class="ui label" ng-click="SuggestRegistrationTime(168)">
              One week
            </a>
          </div>
          <div class="field">
            <label>
              Opens: {{ formatDate(settings.timeOpen) }}
            </label>
            <input type="datetime-local" ng-model="settings.timeOpen">
          </div>

          <div class="field">
            <label>
              Closes: {{ formatDate(settings.timeClose) }}
            </label>
            <input type="datetime-local" ng-model="settings.timeClose">
          </div>

          <div class="ui field">
            <div
              class="ui green button"
              ng-click="updateRegistrationTimes()">
              Update
            </div>
          </div>
        </div>
    </div>

  </div>

  <div class="column">

    <!-- Event Start Date -->
    <div
      ng-class="{'loading': loading}"
      class="ui blue segment">
      <div class="ui form">

        <div class="ui header">
          Event Start/End
        </div>

        <p>
          Users will be able to check challenges after the events starts and submit feedback after it ends.
        </p>
        <div class="ui blue labels">
          <a class="ui label" ng-click="SuggestStartTime(12)">
            12h <i class="icon"></i>
          </a>
          <a class="ui label" ng-click="SuggestStartTime(48)">
            2days
            <div class="detail">48h</div>
          </a>
          <a class="ui label" ng-click="SuggestStartTime(168)">
            One week
            <div class="detail">168h</div>
          </a>
        </div>
        
        <div class="field">
          <label>
            Starts: {{ formatDate(settings.timeStart) }}
          </label>
          <input type="datetime-local" ng-model="settings.timeStart">
        </div>

        <div class="field">
          <label>
            Ends: {{ formatDate(settings.timeEnd) }}
          </label>
          <input type="datetime-local" ng-model="settings.timeEnd">
        </div>

        <div class="ui field">
          <div
            class="ui green button"
            ng-click="updateEventTimes()">
            Update
          </div>
        </div>
      </div>
    </div>

  </div>
  
  <div class="column">

    <!-- Confirmation Date -->
    <div
      ng-class="{'loading': loading}"
      class="ui orange segment">
      <div class="ui form">

        <div class="ui header">
          Confirmation Deadline
        </div>

        <p>
          Any users that are accepted will have to confirm by the date selected.
        </p>

        <div class="ui blue labels">
          <a class="ui label" ng-click="SuggestConfirmationTime(24)">
            1 day <i class="icon"></i>
          </a>
          <a class="ui label" ng-click="SuggestConfirmationTime(120)">
            3days
          </a>
          <a class="ui label" ng-click="SuggestConfirmationTime(0)">
            Event start
          </a>
        </div>

        <div class="field">
          <label>
            Confirm By: {{ formatDate(settings.timeConfirm) }}
          </label>
          <input type="datetime-local" ng-model="settings.timeConfirm">
        </div>

        <div class="ui field">
          <div
            class="ui green button"
            ng-click="updateConfirmationTime()">
            Update
          </div>

          <div
            class="ui green button"
            ng-click="updateConfirmationUsers()">
            Update confitmation for all users
          </div>

        </div>
      </div>
    </div>

  </div>

</div>

<!-- Additional Options -->
<!-- <div
ng-class="{'loading': loading}"
class="ui green segment">

  <div class="ui header">
    Additional Options
  </div>

  <div class="column">
    <div class="ui form">
      <div class="grouped fields">
        <div class="field">
          <div class="ui toggle checkbox">
              <input 
              type="checkbox"
              name="allowMinors"
              ng-class="{true: 'checked', false: ''}[settings.allowMinors]"
              ng-model="settings.allowMinors"
              ng-change="updateAllowMinors()">
              <label>Allow minors</label>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="ui divider"></div>
  <div class="ui header">
    Host School (used in stats)
  </div>
  <div class="ui form">
   <div
      class="ui label">
      {{settings.hostSchool}}
    </div>
    <div class="field">
      <input class="ui input" type="text" ng-model="settings.hostSchool">
      </input>
    </div>
    <div class="field">
      <div
        class="ui green button"
        ng-click="updateHostSchool()">
        Update
      </div>
    </div>
  </div>


</div> -->

<!-- Whitelist -->
<!-- <div
  ng-class="{'loading': loading}"
  class="ui green segment">

  <div class="ui header">
    Whitelisted Emails
  </div>

  <div class="ui form">
   <div
   class="ui label"
   ng-repeat="email in whitelist.replace(' ','').split(',')">
   {{email}}
    </div>
    <br>
    <br>
    <div class="field">
      <textarea class="ui input" type="text" ng-model="whitelist">
      </textarea>
    </div>
    <div class="field">
      <div
        class="ui green button"
        ng-click="updateWhitelist()">
        Update
      </div>
    </div>
  </div>
</div> -->

<!-- Waitlist Text Editor -->
<!-- <div
  ng-class="{'loading': loading}"
  class="ui blue segment">
  <div class="ui header">
    Waitlist Text
  </div>
  <div class="ui stackable two column grid">
    <div class="column">
      <div class="ui form">
        <div class="field">
          <textarea
            class="ui input"
            type="text"
            ng-model="settings.waitlistText">
          </textarea>
        </div>
        <div class="field">
          <div
            class="ui green button"
            ng-click="updateWaitlistText()">
            Update
          </div>
        </div>
      </div>
    </div>
    <div class="column">
      <div
        class="preview ui segment"
        ng-bind-html="markdownPreview(settings.waitlistText)">
      </div>
    </div>
  </div>

</div> -->

<!-- Acceptance Text Editor -->
<div
  ng-class="{'loading': loading}"
  class="ui pink segment">
  <div class="ui header">
    Acceptance Text
  </div>
  <div class="ui stackable two column grid">
    <div class="column">
      <div class="ui form">
        <div class="field">
          <textarea
            class="ui input"
            type="text"
            ng-model="settings.acceptanceText">
          </textarea>
        </div>
        <div class="field">
          <div
            class="ui green button"
            ng-click="updateAcceptanceText()">
            Update
          </div>
        </div>
      </div>
    </div>
    <div class="column">
      <div
        class="preview ui segment"
        ng-bind-html="markdownPreview(settings.acceptanceText)">
      </div>
    </div>
  </div>

</div>

<div
  ng-class="{'loading': loading}"
  class="ui orange segment">
  <div class="ui header">
    Confirmation Text
  </div>
  <div class="ui stackable two column grid">
    <div class="column">
      <div class="ui form">
        <div class="field">
          <textarea
            class="ui input"
            type="text"
            ng-model="settings.confirmationText">
          </textarea>
        </div>
        <div class="field">
          <div
            class="ui green button"
            ng-click="updateConfirmationText()">
            Update
          </div>
        </div>
      </div>
    </div>
    <div class="column">
      <div
        class="preview ui segment"
        ng-bind-html="markdownPreview(settings.confirmationText)">
      </div>
    </div>
  </div>
</div>
